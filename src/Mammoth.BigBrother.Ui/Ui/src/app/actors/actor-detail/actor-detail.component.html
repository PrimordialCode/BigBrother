<div layout="column">
  <div flex *ngIf="actorDetail$ | async" [ngClass]="{ stopped: ((actorDetail$ | async).status === 1) }">
    <span>Status: {{(actorDetail$ | async).status === 0 ? 'Started' : 'Stopped'}}</span>
  </div>
  <div flex *ngIf="actorCounters$ | async" class="countersHeight">
    <ngx-charts-number-card [results]="actorCounters$ | async">
    </ngx-charts-number-card>
  </div>
  <div flex *ngIf="(actorExceptions$ | async)?.length > 0">
    <div style="height: 400px;overflow: auto;">
      <table mat-table multiTemplateDataRows [dataSource]="actorExceptions$" style="width: 100%">
        <ng-container matColumnDef="timestamp">
          <th mat-header-cell *matHeaderCellDef>Timestamp</th>
          <td mat-cell *matCellDef="let row">{{row.timestamp|date:'medium'}}</td>
        </ng-container>
        <ng-container matColumnDef="exception">
          <th mat-header-cell *matHeaderCellDef>Exception</th>
          <td mat-cell *matCellDef="let row">{{row.exception.ClassName}}</td>
        </ng-container>
        <ng-container matColumnDef="message">
          <th mat-header-cell *matHeaderCellDef>Message</th>
          <td mat-cell *matCellDef="let row">{{row.exception.Message}}</td>
        </ng-container>

        <ng-container matColumnDef="expandedDetail">
          <td mat-cell *matCellDef="let element" [attr.colspan]="exceptionsTableColumnsToDisplay.length">
            <div class="example-element-detail" [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
              {{element.exception.StackTraceString}}
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="exceptionsTableColumnsToDisplay; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: exceptionsTableColumnsToDisplay" class="example-element-row" [class.example-expanded-row]="expandedElement === row"
          (click)="expandedElement = row"></tr>
        <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
      </table>
    </div>
  </div>
  <div flex *ngIf="(actorEvents$ | async)?.length > 0">
    <div style="height: 400px;overflow: auto;">
      <table mat-table [dataSource]="actorEvents$" style="width: 100%">
        <ng-container matColumnDef="timestamp">
          <th mat-header-cell *matHeaderCellDef>Timestamp</th>
          <td mat-cell *matCellDef="let row">{{row.timestamp|date:'medium'}}</td>
        </ng-container>
        <ng-container matColumnDef="event">
          <th mat-header-cell *matHeaderCellDef>Event</th>
          <td mat-cell *matCellDef="let row">{{row.event}}</td>
        </ng-container>
        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef>Type</th>
          <td mat-cell *matCellDef="let row">{{row.properties.type}}</td>
        </ng-container>
        <ng-container matColumnDef="message">
          <th mat-header-cell *matHeaderCellDef>Message</th>
          <td mat-cell *matCellDef="let row">{{row.properties.message}}</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="eventsTableColumnsToDisplay; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: eventsTableColumnsToDisplay"></tr>
      </table>
    </div>
  </div>
</div>
<!--
<pre>actor: {{actor | json}}</pre>
<pre>detail: {{actorDetail$ | async | json}}</pre>
<pre>counters: {{actorCounters$ | async | json}}</pre>
<pre>events: {{actorEvents$ | async | json}}</pre>
<pre>exceptions: {{actorExceptions$ | async | json}}</pre>
-->
